"use strict";(self.webpackChunkfacao_control=self.webpackChunkfacao_control||[]).push([[402],{9603:(P,O,a)=>{a.d(O,{O:()=>s,R:()=>c});var s=(()=>{return(t=s||(s={}))[t["Em transporte"]=0]="Em transporte",t[t["N\xe3o informado"]=1]="N\xe3o informado",t[t["Em fila"]=2]="Em fila",t[t["Em produ\xe7\xe3o"]=3]="Em produ\xe7\xe3o",t[t.Parado=4]="Parado",t[t["Em auditoria"]=5]="Em auditoria",t[t["Dispon\xedvel para coleta"]=6]="Dispon\xedvel para coleta",t[t.Coletado=7]="Coletado",t[t["N\xe3o industrializado"]=8]="N\xe3o industrializado",t[t.Triangula\u00e7\u00e3o=9]="Triangula\xe7\xe3o",t[t["Em contagem"]=10]="Em contagem",s;var t})(),c=(()=>{return(t=c||(c={}))[t["Em transporte"]=0]="Em transporte",t[t["N\xe3o informado"]=1]="N\xe3o informado",t[t["Em fila"]=2]="Em fila",t[t["Em produ\xe7\xe3o"]=3]="Em produ\xe7\xe3o",t[t.Parado=4]="Parado",t[t["Em auditoria"]=5]="Em auditoria",t[t["Dispon\xedvel para coleta"]=6]="Dispon\xedvel para coleta",t[t.Coletado=7]="Coletado",t[t["N\xe3o industrializado"]=8]="N\xe3o industrializado",t[t["Parado - Despriorizado"]=9]="Parado - Despriorizado",t[t["Parado - Resolu\xe7\xe3o de pend\xeancia"]=10]="Parado - Resolu\xe7\xe3o de pend\xeancia",t[t["Parado - Remanejamento"]=11]="Parado - Remanejamento",t[t["Parado - Sistema"]=12]="Parado - Sistema",t[t["Parado - Resolu\xe7\xe3o de nota"]=13]="Parado - Resolu\xe7\xe3o de nota",t[t["Parado - Inconsist\xeancia"]=14]="Parado - Inconsist\xeancia",t[t.Triangula\u00e7\u00e3o=15]="Triangula\xe7\xe3o",t[t["Em contagem"]=16]="Em contagem",c;var t})()},8678:(P,O,a)=>{a.d(O,{y:()=>z});var s=a(529),c=a(262),t=a(515),y=a(4004),f=a(2340),p=a(4650),S=a(1622),u=a(6280);const h=f.N.API_ENV;let z=(()=>{class I{constructor(g,m,E){this._httpClient=g,this._tokenService=m,this._userService=E}getApontamentosResumido(){const g=this.getToken();return this._httpClient.get(`${h}/api/faccaocontrol/apontamento/resumido/origem_colecao`,{headers:g}).pipe((0,c.K)(m=>(401==m.status&&this.missingToken(),t.E)))}getApontamento(g){const m=this.getToken();return g?this._httpClient.get(`${h}/api/faccaocontrol/apontamento/local/${g}`,{headers:m}).pipe((0,c.K)(E=>(401==E.status&&this.missingToken(),t.E))):this._httpClient.get(`${h}/api/faccaocontrol/apontamento/all`,{headers:m}).pipe((0,c.K)(E=>(401==E.status&&this.missingToken(),t.E)))}logApontamento(g,m){const E=this.getToken();return g&&m?this._httpClient.get(`${h}/api/faccaocontrol/apontamento/log/${g}/${m}`,{headers:E}).pipe((0,y.U)(b=>{const M=JSON.parse(b.data);return M.length>0?M:null}),(0,c.K)(b=>(401==b.status&&this.missingToken(),t.E))):this._httpClient.get(`${h}/api/faccaocontrol/apontamento/log`,{headers:E}).pipe((0,y.U)(b=>{const M=JSON.parse(b.data);return M.length>0?M:null}),(0,c.K)(b=>(401==b.status&&this.missingToken(),t.E)))}setApontamento(g){const m=JSON.stringify(g),E=this.getToken();return this._httpClient.post(`${h}/api/faccaocontrol/apontamento/add`,m,{headers:E}).pipe((0,y.U)(b=>"OK"==b.data?1:0))}getToken(){const g=this._tokenService.getToken();return g?(new s.WM).append("x-access-token",g):new s.WM}missingToken(){alert("Sess\xe3o expirada!"),this._userService.logout()}}return I.\u0275fac=function(g){return new(g||I)(p.LFG(s.eN),p.LFG(S.B),p.LFG(u.K))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},3380:(P,O,a)=>{a.d(O,{C:()=>c});var s=a(4650);let c=(()=>{class t{setFilter(f){sessionStorage.setItem("filters",JSON.stringify(f))}getFilter(){const f=sessionStorage.getItem("filters");return JSON.parse(f)}setFilterRef(f){sessionStorage.setItem("filters_op",JSON.stringify(f))}getFilterRef(){const f=sessionStorage.getItem("filters_op");return JSON.parse(f)}clearFilter(){sessionStorage.removeItem("filters"),sessionStorage.removeItem("filters_op")}}return t.\u0275fac=function(f){return new(f||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},9219:(P,O,a)=>{a.d(O,{A:()=>f});var s=a(4650),c=a(6895),t=a(90);function y(p,S){if(1&p&&(s.TgZ(0,"div",4)(1,"span")(2,"b"),s._uU(3),s.ALo(4,"number"),s.qZA()(),s.TgZ(5,"span"),s._uU(6),s.qZA()()),2&p){const u=s.oxw();s.xp6(3),s.Oqu(s.Dn7(4,2,u.qnt_atraso,"1.0","pt-Br")),s.xp6(3),s.Oqu(u.text_desc)}}let f=(()=>{class p{constructor(){this.loading=!1,this.title="",this.qnt_ops=0,this.qnt_atraso=0,this.per_atraso=0,this.show_desc=!1,this.page_desc="",this.text_desc="",this.headerColor="",this.qnt_text_desc="",this.c_accent="basic",this.c_status="basic"}ngOnInit(){this.qnt_text_desc=this.text_desc.includes("pe\xe7as")?this.qnt_atraso.toLocaleString("pt-Br"):this.qnt_atraso+" ("+this.per_atraso+"%)",this.page_desc=this.show_desc?"total-op":"total-op-false"}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275cmp=s.Xpm({type:p,selectors:[["fc-card"]],inputs:{loading:"loading",title:"title",qnt_ops:"qnt_ops",qnt_atraso:"qnt_atraso",per_atraso:"per_atraso",show_desc:"show_desc",page_desc:"page_desc",text_desc:"text_desc",headerColor:"headerColor",c_accent:"c_accent",c_status:"c_status"},decls:15,vars:11,consts:[["nbSpinnerStatus","primary",1,"card-wrapper",3,"status","nbSpinner"],[3,"ngClass"],[1,"c-body"],["class","desc-op",4,"ngIf"],[1,"desc-op"]],template:function(u,h){1&u&&(s.TgZ(0,"nb-card",0)(1,"nb-card-header",1),s._uU(2),s.qZA(),s.TgZ(3,"nb-card-body")(4,"div",2)(5,"div",1)(6,"p"),s._uU(7),s.ALo(8,"number"),s.qZA(),s.TgZ(9,"span")(10,"b"),s._uU(11,"Total de OP's"),s.qZA()()(),s.YNc(12,y,7,6,"div",3),s.qZA()(),s.TgZ(13,"nb-card-footer"),s._uU(14,"Acessar"),s.qZA()()),2&u&&(s.Q6J("status",h.c_status)("nbSpinner",h.loading),s.xp6(1),s.Q6J("ngClass",h.headerColor),s.xp6(1),s.Oqu(h.title),s.xp6(3),s.Q6J("ngClass",h.page_desc),s.xp6(2),s.Oqu(s.Dn7(8,7,h.qnt_ops,"1.0","pt-Br")),s.xp6(5),s.Q6J("ngIf",h.show_desc))},dependencies:[c.mk,c.O5,t.Asz,t.yKW,t.XWE,t.ndF,t.Q7R,c.JJ],styles:["nb-card[_ngcontent-%COMP%]{cursor:pointer;width:350px;margin:10px;box-shadow:#0000001a 0 10px 15px -3px,#0000000d 0 4px 6px -2px}nb-card-header[_ngcontent-%COMP%]{text-align:center;-webkit-user-select:none;user-select:none}.header-color[_ngcontent-%COMP%]{color:var(--color-basic-100);background-color:#3e2494!important}nb-card-body[_ngcontent-%COMP%]{text-align:center;padding:0}nb-card-footer[_ngcontent-%COMP%]{text-align:center;font-weight:600}nb-card-footer[_ngcontent-%COMP%]:hover{background-color:#70809080}.c-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.c-body[_ngcontent-%COMP%]   .total-op[_ngcontent-%COMP%]{width:50%;margin:10px 0;border-right:1px solid rgb(151,151,151)}.c-body[_ngcontent-%COMP%]   .total-op[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:30px 0 10px;padding:0;font-size:36px;font-weight:600}.c-body[_ngcontent-%COMP%]   .total-op-false[_ngcontent-%COMP%]{width:50%;margin:10px 0}.c-body[_ngcontent-%COMP%]   .total-op-false[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:30px 0 10px;padding:0;font-size:36px;font-weight:600}.desc-op[_ngcontent-%COMP%]{width:50%;margin-top:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.desc-op[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.desc-op[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font-weight:600;line-height:0}@media screen and (max-width: 475px){nb-card[_ngcontent-%COMP%]{width:300px}}"]}),p})()},470:(P,O,a)=>{a.d(O,{sN:()=>k,z1:()=>oe,mZ:()=>re,TD:()=>ae});var s=a(7579),c=a(9646),t=a(9751),y=a(4707),f=a(1848),p=a(515),S=a(9300),u=a(8505),h=a(5698),z=a(5577),I=a(4004),w=a(262),g=a(3900),m=a(8675),E=a(4986),b=a(4482),M=a(5032),K=a(5403),j=a(7445);var V=a(3099),Y=a(6895),v=a(4650);function R(o){return Boolean(o.parentElement&&"picture"===o.parentElement.nodeName.toLowerCase())}function _(o){return"img"===o.nodeName.toLowerCase()}function U(o,e,n){return _(o)?n&&"srcset"in o?o.srcset=e:o.src=e:o.style.backgroundImage=`url('${e}')`,o}function N(o){return e=>{const n=e.parentElement.getElementsByTagName("source");for(let r=0;r<n.length;r++){const i=n[r].getAttribute(o);i&&("srcset"in n[r]?n[r].srcset=i:n[r].src=i)}}}const Q=N("defaultImage"),F=N("lazyLoad"),G=N("errorImage");function W(o){return(e,n,r)=>{_(e)&&R(e)&&o(e),n&&U(e,n,r)}}const X=W(Q),A=W(F),q=W(G);function Z(o,e){o.className=o.className.replace(e,"")}function B(o,e){o.className.includes(e)||(o.className+=` ${e}`)}class $ extends class ee{constructor(){this.navigator=function H(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(e){this.platformId=e}onDestroy(e){}onAttributeChange(e){}}{setup(e){X(e.element,e.defaultImagePath,e.useSrcset),e.imagePath&&B(e.element,"ng-lazyloading"),function te(o,e){return o.className&&o.className.includes(e)}(e.element,"ng-lazyloaded")&&Z(e.element,"ng-lazyloaded")}finally(e){B(e.element,"ng-lazyloaded"),Z(e.element,"ng-lazyloading")}loadImage(e){if(this.skipLazyLoading(e))return[e.imagePath];const{element:n,useSrcset:r,imagePath:i,decode:d}=e;let l;return _(n)&&R(n)?(l=n.parentNode.cloneNode(!0).getElementsByTagName("img")[0],F(l),U(l,i,r)):(l=new Image,_(n)&&n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),_(n)&&n.sizes&&(l.sizes=n.sizes),r&&"srcset"in l?l.srcset=i:l.src=i),d&&l.decode?l.decode().then(()=>i):new Promise((x,T)=>{l.onload=()=>x(i),l.onerror=()=>T(null)})}setErrorImage(e,n){const{element:r,useSrcset:i,errorImagePath:d}=n;q(r,d,i),B(r,"ng-failed-lazyloaded")}setLoadedImage(e,n){const{element:r,useSrcset:i}=n;A(r,e,i)}isDisabled(){return(0,Y.PM)(this.platformId)&&!this.isBot()}skipLazyLoading(e){return this.isBot(e)}isBot(e){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class ne extends ${constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new s.x,this.uniqKey={}}getObservable(e){if(this.skipLazyLoading(e))return(0,c.of)({isIntersecting:!0});if(e.customObservable)return e.customObservable;const n=e.scrollContainer||this.uniqKey,r={root:e.scrollContainer||null};e.offset&&(r.rootMargin=`${e.offset}px`);let i=this.observers.get(n);return i||(i=new IntersectionObserver(d=>this.loadingCallback(d),r),this.observers.set(n,i)),i.observe(e.element),t.y.create(d=>{const l=this.intersectionSubject.pipe((0,S.h)(x=>x.target===e.element)).subscribe(d);return()=>{l.unsubscribe(),i.unobserve(e.element)}})}isVisible(e){return e.isIntersecting}loadingCallback(e){e.forEach(n=>this.intersectionSubject.next(n))}}const k=new v.OlP("LazyLoadImageHooks");let oe=(()=>{class o{constructor(n,r,i,d){this.onStateChange=new v.vpe,this.elementRef=n,this.ngZone=r,this.propertyChanges$=new y.t,this.hooks=d,this.hooks.setPlatformId(i),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(n=>console.log(n))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,u.b)(n=>this.hooks.onAttributeChange(n)),(0,u.b)(n=>n.onStateChange.emit({reason:"setup"})),(0,u.b)(n=>this.hooks.setup(n)),(0,g.w)(n=>n.imagePath?this.hooks.getObservable(n).pipe(function se(o,e){return n=>n.pipe((0,u.b)(r=>e.onStateChange.emit({reason:"observer-emit",data:r})),(0,S.h)(r=>o.isVisible(r,e)),(0,h.q)(1),(0,u.b)(()=>e.onStateChange.emit({reason:"start-loading"})),(0,z.z)(()=>o.loadImage(e)),(0,u.b)(()=>e.onStateChange.emit({reason:"mount-image"})),(0,u.b)(r=>o.setLoadedImage(r,e)),(0,u.b)(()=>e.onStateChange.emit({reason:"loading-succeeded"})),(0,I.U)(()=>!0),(0,w.K)(r=>(e.onStateChange.emit({reason:"loading-failed",data:r}),o.setErrorImage(r,e),(0,c.of)(!1))),(0,u.b)(()=>{e.onStateChange.emit({reason:"finally"}),o.finally(e)}))}(this.hooks,n)):(0,f.F)())).subscribe({next:()=>null})})}ngOnDestroy(){this.propertyChanges$.pipe((0,h.q)(1)).subscribe({next:n=>this.hooks.onDestroy(n)}).unsubscribe(),this.loadSubscription?.unsubscribe(),this.debugSubscription?.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(v.Lbi),v.Y36(k))},o.\u0275dir=v.lG2({type:o,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[v.TTD]}),o})(),re=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=v.oAB({type:o}),o.\u0275inj=v.cJS({providers:[{provide:k,useClass:ne}]}),o})();class C{constructor(e,n,r,i){this.left=e,this.top=n,this.right=r,this.bottom=i}static fromElement(e){const{left:n,top:r,right:i,bottom:d}=e.getBoundingClientRect();return 0===n&&0===r&&0===i&&0===d?C.empty:new C(n,r,i,d)}static fromWindow(e){return new C(0,0,e.innerWidth,e.innerHeight)}inflate(e){this.left-=e,this.top-=e,this.right+=e,this.bottom+=e}intersectsWith(e){return e.left<this.right&&this.left<e.right&&e.top<this.bottom&&this.top<e.bottom}getIntersectionWith(e){const n=Math.max(this.left,e.left),r=Math.max(this.top,e.top),i=Math.min(this.right,e.right),d=Math.min(this.bottom,e.bottom);return i>=n&&d>=r?new C(n,r,i,d):C.empty}}C.empty=new C(0,0,0,0);class ae extends ${constructor(){super(...arguments),this.getWindow=()=>window,this.scrollListeners=new WeakMap,this.getScrollListener=e=>{if(!e||"function"!=typeof e.addEventListener)return console.warn("`addEventListener` on "+e+" (scrollTarget) is not a function. Skipping this target"),(0,p.c)();const n=this.scrollListeners.get(e);if(n)return n;const r=t.y.create(d=>{const l="scroll",x=ie=>d.next(ie),T={passive:!0,capture:!1};return e.addEventListener(l,x,T),()=>e.removeEventListener(l,x,T)}),i=this.sampleObservable(r);return this.scrollListeners.set(e,i),i}}getObservable(e){return this.skipLazyLoading(e)?(0,c.of)("load"):e.customObservable?e.customObservable.pipe((0,m.O)("")):this.getScrollListener(e.scrollContainer?e.scrollContainer:this.getWindow())}isVisible(e,n){const r=C.fromElement(n.element);if(r===C.empty)return!1;const i=C.fromWindow(this.getWindow());if(r.inflate(n.offset),n.scrollContainer){const l=C.fromElement(n.scrollContainer).getIntersectionWith(i);return r.intersectsWith(l)}return r.intersectsWith(i)}sampleObservable(e,n){return e.pipe(function L(o,e=E.z){return function J(o){return(0,b.e)((e,n)=>{let r=!1,i=null;e.subscribe(new K.Q(n,l=>{r=!0,i=l})),o.subscribe(new K.Q(n,()=>{if(r){r=!1;const l=i;i=null,n.next(l)}},M.Z))})}((0,j.F)(o,e))}(100,n),(0,V.B)(),(0,m.O)(""))}}}}]);